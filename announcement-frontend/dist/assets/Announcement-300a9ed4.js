import{u as D,r as x,w as C,o as $,c as v,a as n,b as t,d as s,_ as w,e as A,F as N,g as T,m as E,f as P,t as a,h as c,i as V,j as B}from"./index-7956af6e.js";import{_ as F,a as j,b as k,c as I}from"./Modal-2ced7d80.js";import{h as f,_ as S}from"./dateUtils-4ce03fb9.js";const z={class:"flex max-lg:flex-col items-center justify-between py-6"},q={__name:"Announcement",async setup(M){let u,m;const p=D(),o=x([]),i=async()=>{o.value=await T(E.ADMIN,p.getPage()-1,0)};[u,m]=C(()=>i()),await u,m();const g=async l=>{o.value.content=o.value.content.filter(r=>r.id!==l),await B(l)},h=["Id","Title","Publish Date","Close Date","Display","Category","View","Action"],y=l=>`/admin/announcement/${l}/details`;return(l,r)=>{var d,_;return $(),v(N,null,[n("div",z,[t(w,null,{default:s(()=>[P("Announcement Table")]),_:1}),t(j)]),t(F,{createPath:"/admin/announcement/add",head:h,body:o.value.content,emptyText:"No Announcement"},{column:s(({items:e,index:b})=>[n("td",null,a(b+1),1),n("td",null,a(e.announcementTitle),1),n("td",null,a(c(f)(e.publishDate)),1),n("td",null,a(c(f)(e.closeDate)),1),n("td",null,a(e.announcementDisplay),1),n("td",null,a(e.announcementCategory),1),n("td",null,a(e.viewCount),1)]),action:s(({id:e})=>[t(S,{name:"Edit",to:y(e),class:"bg-blue-700 px-6 hover:bg-blue-800"},null,8,["to"]),t(k,{"modal-id":`annDeleteConfirm-${e}`,name:"Delete","class-name":"bg-error hover:bg-red-500 px-6"},null,8,["modal-id"]),t(I,{"modal-id":`annDeleteConfirm-${e}`,onConfirm:()=>g(e),icon:c(V),title:`Do you want to delete announcement ${e}?`},null,8,["modal-id","onConfirm","icon","title"])]),_:1},8,["body"]),t(A,{onFetch:i,"total-pages":(d=o.value)==null?void 0:d.totalPages,"total-elements":(_=o.value)==null?void 0:_.totalElements,class:"float-right"},null,8,["total-pages","total-elements"])],64)}}};export{q as default};
